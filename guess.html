<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Hello</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" media="screen" href="css/main.css">

        <script>

        </script>

    </head>
    <body>
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <!-- Add your site or application content here -->

        <p>
          Listen to "Hello" and "Thank You" and guess the language!
        </p>
        <table width="100%">
            <tr>
              <td width="20%"></td>
                <td width="20%" id="play_hello" class="playtitle" align="center"  style="cursor: pointer"
                    >Say "Hello"
                </td>
                <td width="20%"></td>
                <td width="20%" id="play_thankyou" class="playtitle"  align="center"  style="cursor: pointer"
                    >Say "Thank You"
                </td>
                <td width="20%"></td>
            </tr>
        </table>
        <p></p>
        <table id='choices' width="100%">
            <tr class="guess" width="100%">
                <td data-lang='english' class="langtitle" width="16%" align="center" style="cursor: pointer" >English</td>
                <td data-lang='spanish' class="langtitle" width="16%" align="center" style="cursor: pointer" >Spanish</td>
                <td data-lang='italian' class="langtitle" width="16%" align="center" style="cursor: pointer" >Italian</td>
                <td data-lang='french' class="langtitle" width="16%" align="center" style="cursor: pointer" >French</td>
                <td data-lang='german' class="langtitle" width="16%" align="center" style="cursor: pointer" >German</td>
                <td data-lang='russian' class="langtitle" align="center" style="cursor: pointer" >Russian</td>
            </tr>
            <tr class="guess">
                <td data-lang='portuguese' class="langtitle" align="center" style="cursor: pointer" >Portuguese</td>
                <td data-lang='h-creole' class="langtitle" align="center" style="cursor: pointer" >Haitian Creole</td>
                <td data-lang='arabic' class="langtitle" align="center" style="cursor: pointer" >Arabic</td>
                <td data-lang='tibetan' class="langtitle" align="center" style="cursor: pointer" >Tibetan</td>
                <td data-lang='punjabi' class="langtitle" align="center" style="cursor: pointer" >Punjabi</td>
            </tr>
        </table>
        <p class="feedback" id="feedback"></p>

        <div id='lang_answers'>
        <table data-lang="english" style="display:none;">
          <tr>
                <td class="langtitle">English</td>
                <td class="langwords" align="center"  style="cursor: pointer"
                    onclick="document.getElementById('hello_en').play()"
                    >Hello
                </td>
                <td class="langwords" align="center"  style="cursor: pointer"
                    onclick="document.getElementById('thanks_en').play()"
                    >Thank You
			          </td>
            </tr>
        </table>
        <table data-lang="arabic" style="display:none;">
          <tr>
                <td class="langtitle">Arabic</td>
                <td class="langwords">

                    <img src="images/hello_arabic.jpg" style="cursor: pointer"
                      onclick="document.getElementById('hello_arabic').play()"
                    >
                    <img src="images/hi_arabic.jpg" style="cursor: pointer"
                      onclick="document.getElementById('hi_arabic').play()"
                    >
                </td>
                <td class="langwords">
                    <img src="images/thanks_arabic.jpg" style="cursor: pointer"
                      onclick="document.getElementById('thanks_arabic').play()"
                    >
			          </td>
            </tr>
          </table>
          <table data-lang="french" style="display:none;">
            <tr>
                <td class="langtitle">French</td>
                <td class="langwords" align="center"  style="cursor: pointer"
                    onclick="document.getElementById('hello_french').play()"
                    >Bonjour
                </td>
                <td class="langwords" align="center"  style="cursor: pointer"
                    onclick="document.getElementById('thanks_french').play()"
                    >Merci
			          </td>
            </tr>
          </table>
          <table data-lang="tibetan" style="display:none;">
            <tr>
                <td class="langtitle">Tibetan</td>
                <td class="langwords" align="center">
                  <img src="images/hello_tibetan.jpg" style="cursor: pointer"
                    onclick="document.getElementById('hello_tibetan').play()"
                  >
                </td>
                <td class="langwords" align="center">
                  <img src="images/thanks_tibetan.jpg" style="cursor: pointer"
                    onclick="document.getElementById('thanks_tibetan').play()"
                  >
                </td>
            </tr>
          </table>
          <table data-lang="italian" style="display:none;">
            <tr>
                <td class="langtitle">Italian</td>
                <td class="langwords" align="center"  style="cursor: pointer"
                    onclick="document.getElementById('hello_italian').play()"
                    >Ciao
                </td>
                <td class="langwords" align="center"  style="cursor: pointer"
                    onclick="document.getElementById('thanks_italian').play()"
                    >Grazie
			          </td>
            </tr>
          </table>
          <table data-lang="h-creole" style="display:none;">
            <tr>
                <td class="langtitle">Haitian Creole</td>
                <td class="langwords" align="center"  style="cursor: pointer"
                    onclick="document.getElementById('hello_haitiancreole').play()"
                    >Bonjou
                </td>
                <td class="langwords" align="center"  style="cursor: pointer"
                    onclick="document.getElementById('thanks_haitiancreole').play()"
                    >Mesi
			          </td>
            </tr>
          </table>
          <table data-lang="portuguese" style="display:none;">
            <tr>
                <td class="langtitle">Portuguese</td>
                <td class="langwords" align="center"  style="cursor: pointer"
                    onclick="document.getElementById('hello_portuguese').play()"
                    >Ol√°
                </td>
                <td class="langwords" align="center"  style="cursor: pointer"
                    onclick="document.getElementById('thanks_portuguese').play()"
                    >Obrigado
			          </td>
            </tr>
          </table>
          <table data-lang="punjabi" style="display:none;">
            <tr>
                <td class="langtitle">Punjabi</td>
                <td class="langwords" align="center">
                  <img src="images/hello_punjabi.jpg" style="cursor: pointer"
                    onclick="document.getElementById('hello_punjabi').play()"
                  >
                </td>
                <td class="langwords" align="center">
                  <img src="images/thanks_punjabi.jpg" style="cursor: pointer"
                    onclick="document.getElementById('thanks_punjabi').play()"
                  >
                </td>
            </tr>
          </table>
          <table data-lang="spanish" style="display:none;">
            <tr>
                <td class="langtitle">Spanish</td>
                <td class="langwords" align="center"  style="cursor: pointer"
                    onclick="document.getElementById('hello_es').play()"
                    >Hola
                </td>
                <td class="langwords" align="center"  style="cursor: pointer"
                    onclick="document.getElementById('thanks_es').play()"
                    >Gracias
			          </td>
            </tr>
          </table>
          <table data-lang="russian" style="display:none;">
            <tr>
                <td class="langtitle">Russian</td>
                <td class="langwords" align="center">
                  <img src="images/hello_russian.jpg" style="cursor: pointer"
                    onclick="document.getElementById('hello_russian').play()"
                  >
                </td>
                <td class="langwords" align="center">
                  <img src="images/thanks_russian.jpg" style="cursor: pointer"
                    onclick="document.getElementById('thanks_russian').play()"
                  >
                </td>
            </tr>
          </table>
          <table data-lang="german" style="display:none;">
            <tr>
                <td class="langtitle">German</td>
                <td class="langwords" align="center"  style="cursor: pointer"
                    onclick="document.getElementById('hello_german').play()"
                    >Hallo
                </td>
                <td class="langwords" align="center"  style="cursor: pointer"
                    onclick="document.getElementById('thanks_german').play()"
                    >Danke
			          </td>
            </tr>
        </table>
      </div>

      <table width="100%">
          <tr>
            <td width="20%"></td>
            <td width="20%"></td>
              <td width="20%" id="start_over" class="playtitle" align="center"  style="cursor: pointer"
                  >Try another Language
              </td>
              <td width="20%"></td>
              <td width="20%"></td>
          </tr>
      </table>

        <audio data-lang='arabic' id='hi_arabic' src="sounds/hi_arabic.mp3"></audio>

        <div id='hello-audios'>
          <audio data-lang='arabic' id='hello_arabic' src="sounds/hello_arabic.mp3"></audio>
          <audio data-lang='english' class='hello en' id='hello_en' src="sounds/hello_en.mp3"></audio>
          <audio data-lang='french' id='hello_french' src="sounds/hello_french.mp3"></audio>
          <audio data-lang='german' id='hello_german' src="sounds/hello_german.mp3"></audio>
          <audio data-lang='h-creole' id='hello_haitiancreole' src="sounds/hello_haitiancreole.mp3"></audio>
          <audio data-lang='italian' id='hello_italian' src="sounds/hello_italian.mp3"></audio>
          <audio data-lang='portuguese' id='hello_portuguese' src="sounds/hello_portuguese.mp3"></audio>
          <audio data-lang='punjabi' id='hello_punjabi' src="sounds/hello_punjabi.mp3"></audio>
          <audio data-lang='russian' id='hello_russian' src="sounds/hello_russian.mp3"></audio>
          <audio data-lang='spanish' id='hello_es' src="sounds/hello_es.mp3"></audio>
          <audio data-lang='tibetan' id='hello_tibetan' src="sounds/hello_tibetan.wav"></audio>
        </div>

        <div id='thanks-audios'>
          <audio data-lang='arabic' id='thanks_arabic' src="sounds/thanks_arabic.mp3"></audio>
          <audio data-lang='english' id='thanks_en' src="sounds/thanks_en.mp3"></audio>
          <audio data-lang='french' id='thanks_french' src="sounds/thanks_french.mp3"></audio>
          <audio data-lang='german' id='thanks_german' src="sounds/thanks_german.mp3"></audio>
          <audio data-lang='h-creole' id='thanks_haitiancreole' src="sounds/thanks_haitiancreole.mp3"></audio>
          <audio data-lang='italian' id='thanks_italian' src="sounds/thanks_italian.mp3"></audio>
          <audio data-lang='portuguese' id='thanks_portuguese' src="sounds/thanks_portuguese.mp3"></audio>
          <audio data-lang='punjabi' id='thanks_punjabi' src="sounds/thanks_punjabi.mp3"></audio>
          <audio data-lang='russian' id='thanks_russian' src="sounds/thanks_russian.mp3"></audio>
          <audio data-lang='spanish' id='thanks_es' src="sounds/thanks_es.mp3"></audio>
          <audio data-lang='tibetan' id='thanks_tibetan' src="sounds/thanks_tibetan.wav"></audio>
        </div>

        <script  src="https://code.jquery.com/jquery-3.1.1.js"
                 integrity="sha256-16cdPddA6VdVInumRGo6IbivbERE8p7CQR3HzTBuELA="
                 crossorigin="anonymous"></script>

        <script>
         jQuery.fn.random = function(){
           var randomIndex = Math.floor(Math.random() * this.length);
           return jQuery(this[randomIndex]);
         };

         var CURRENT_LANG = null;
         function playAudio($audioDiv) {
           var $audioElement;
           if(CURRENT_LANG){
             $audioElement = $audioDiv.children('[data-lang='+CURRENT_LANG+']');
           }
           else{
             //Selecting a new language
             $audioElement = $audioDiv.children('audio:not([data-played])').random();
             if($audioElement.length === 0) {
               $('audio').removeAttr('data-played');
               $audioElement = $audioDiv.children('audio:not([data-played])').random();
             }
             CURRENT_LANG = $audioElement.data('lang');

             //$audioElement.attr('data-played', 'true');
             //This set true in both audio sets
             $('audio[data-lang='+CURRENT_LANG+']').attr('data-played', 'true');
           }
           console.log(CURRENT_LANG);
           $audioElement[0].play();
         }

         $('#play_hello').click(function(){
            playAudio($('#hello-audios'));
         });
         $('#play_thankyou').click(function(){
           playAudio($('#thanks-audios'));
         });

         $('#choices').find('td').click(function(){
           if (CURRENT_LANG){
            if($(this).data('lang') == CURRENT_LANG){
                $('#feedback').html("Correct!");
                $answerTable = $('#lang_answers').children('[data-lang='+CURRENT_LANG+']');
                $answerTable.show();
                console.log(CURRENT_LANG);
            } else {
                $('#feedback').html("Wrong. Try again!");
            }
          }
         });

         $('#start_over').click(function(){
           $('#feedback').html("");
           CURRENT_LANG = null;
           //Hide all answers
           $('#lang_answers').children().hide();
         });

        </script>

    </body>
</html>
